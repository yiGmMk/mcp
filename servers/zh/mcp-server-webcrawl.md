---
name: mcp-server-webcrawl
digest: æœç´¢å’Œæ£€ç´¢ç½‘ç»œçˆ¬è™«å†…å®¹ã€‚è¿æ¥åˆ°å…·æœ‰é«˜çº§è¿‡æ»¤å’Œå†…å®¹æ£€ç´¢åŠŸèƒ½çš„çˆ¬è™«ã€‚
author: pragmar
repository: https://github.com/pragmar/mcp_server_webcrawl
homepage: https://pragmar.com/mcp-server-webcrawl/
capabilities:
  prompts: false
  resources: false
  tools: true
tags:
  - crawler
  - search
  - indexing
icon: https://pragmar.com/media/static/images/home/mcp-server-webcrawl.png
createTime: 2025-03-26
---

è¿™æ˜¯ä¸€ä¸ªæä¾›ç½‘ç»œçˆ¬è™«æœç´¢å’Œæ£€ç´¢åŠŸèƒ½çš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®®(MCP)æœåŠ¡å™¨ã€‚è¯¥æœåŠ¡å™¨å…è®¸ MCP å®¢æˆ·ç«¯ä½¿ç”¨é«˜çº§è¿‡æ»¤åŠŸèƒ½æœç´¢å’Œè®¿é—®å·²çˆ¬å–ç«™ç‚¹çš„ç½‘ç»œå†…å®¹ã€‚

## åŠŸèƒ½

ğŸ” **å…¨æ–‡æœç´¢**ã€‚é€šè¿‡å…³é”®è¯ã€æ ‡ç­¾ã€CSS ç±»ç­‰è¿‡æ»¤ç½‘ç»œå†…å®¹ã€‚

ğŸ”¬ **é«˜çº§æœç´¢**ã€‚æŒ‰çŠ¶æ€ã€å†…å®¹ç±»å‹å’Œ/æˆ–ç«™ç‚¹è¿›è¡Œæœç´¢ã€‚

ğŸ•¸ï¸ **å¤šçˆ¬è™«æ”¯æŒ**ã€‚æ”¯æŒè¯¸å¦‚ WARCã€wgetã€InterroBotã€Katanaã€SiteOne ç­‰çˆ¬è™«ã€‚

âœ‚ï¸ **API ä¸Šä¸‹æ–‡å½¢æˆ**ã€‚å­—æ®µé€‰é¡¹å†³å®š API è¿”å›çš„å†…å®¹ï¼Œåœ¨ LLM äº¤äº’ä¸­ä¿æŒä¸Šä¸‹æ–‡è½»é‡ã€‚

## å®‰è£…

éœ€è¦ Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

### ä½¿ç”¨ pip å®‰è£…

ä½¿ç”¨ pip å®‰è£…åŒ…ï¼š

```bash
pip install mcp-server-webcrawl
```

## é…ç½®

é…ç½®å› çˆ¬è™«è€Œå¼‚ã€‚ä½ éœ€è¦å°†--datasource ç¤ºä¾‹æ›¿æ¢ä¸ºç›®æ ‡è·¯å¾„ã€‚

### wget é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": ["--crawler", "wget", "--datasrc", "/path/to/wget/archives/"]
    }
  }
}
```

**æµ‹è¯•è¿‡çš„ wget å‘½ä»¤ï¼š**

```bash
# --adjust-extensionç”¨äºæ–‡ä»¶æ‰©å±•åï¼Œä¾‹å¦‚ï¼š*.html
wget --mirror https://example.com
wget --mirror https://example.com --adjust-extension
```

### WARC é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": ["--crawler", "warc", "--datasrc", "/path/to/warc/archives/"]
    }
  }
}
```

**ç”¨äº WARC çš„æµ‹è¯•è¿‡çš„ wget å‘½ä»¤ï¼š**

```bash
wget --warc-file=example --recursive https://example.com
wget --warc-file=example --recursive --page-requisites https://example.com
```

### InterroBot é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": [
        "--crawler",
        "interrobot",
        "--datasrc",
        "/home/user/Documents/InterroBot/interrobot.v2.db"
      ]
    }
  }
}
```

**æ³¨æ„ï¼š**

- çˆ¬è™«å¿…é¡»åœ¨ InterroBot å†…éƒ¨è¿è¡Œï¼ˆçª—å£æ¨¡å¼ï¼‰
- macOS/Windowsï¼š--datasource è·¯å¾„åœ¨ InterroBot é€‰é¡¹é¡µé¢ä¸­æä¾›

### Katana é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": ["--crawler", "katana", "--datasrc", "/path/to/katana/crawls/"]
    }
  }
}
```

**æµ‹è¯•è¿‡çš„ Katana å‘½ä»¤ï¼š**

```bash
# -store-responseç”¨äºå­˜å‚¨çˆ¬å–å†…å®¹
# -store-response-dirå…è®¸åœ¨å•ä¸ªç›®å½•ä¸­çˆ¬å–å¤šä¸ªç«™ç‚¹
katana -u https://example.com -store-response -store-response-dir crawls/
```

### SiteOne é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": [
        "--crawler",
        "siteone",
        "--datasrc",
        "/path/to/siteone/archives/"
      ]
    }
  }
}
```

**æ³¨æ„ï¼š**

- çˆ¬è™«å¿…é¡»åœ¨ SiteOne å†…éƒ¨è¿è¡Œï¼ˆçª—å£æ¨¡å¼ï¼‰
- å¿…é¡»é€‰æ‹©"Generate offline website"é€‰é¡¹

## å¯ç”¨å·¥å…·

### `webcrawl_sites`

è·å–ç«™ç‚¹åˆ—è¡¨ï¼ˆé¡¹ç›®ç«™ç‚¹æˆ–çˆ¬å–ç›®å½•ï¼‰ã€‚

**å¯é€‰å‚æ•°**

- `fields`ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šé™¤äº†åŸºæœ¬å­—æ®µï¼ˆidã€urlï¼‰å¤–ï¼Œè¦åŒ…å«åœ¨å“åº”ä¸­çš„é™„åŠ å­—æ®µã€‚é€‰é¡¹åŒ…æ‹¬ï¼š
- `ids`ï¼ˆæ•´æ•°æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šæŒ‰é¡¹ç›® ID è¿‡æ»¤çš„åˆ—è¡¨ã€‚ä¸ºç©ºè¡¨ç¤ºæ‰€æœ‰é¡¹ç›®ã€‚

**å¯é€‰å­—æ®µ**

- `modified` æœ€åä¿®æ”¹çš„ ISO 8601 æ—¶é—´æˆ³
- `created` åˆ›å»ºçš„ ISO 8601 æ—¶é—´æˆ³
- `robots` Robots.txt ä¿¡æ¯ï¼ˆæœ‰é™æ”¯æŒï¼‰

**ä½¿ç”¨ç¤ºä¾‹**

åˆ—å‡ºæ‰€æœ‰çˆ¬å–çš„ç«™ç‚¹ï¼š"ä½ èƒ½åˆ—å‡ºç½‘ç»œçˆ¬è™«å—ï¼Ÿ"

è·å–ç‰¹å®šç«™ç‚¹çš„åŸºæœ¬çˆ¬å–ä¿¡æ¯ï¼š"ä½ èƒ½è·å– example.com çš„ç½‘ç»œçˆ¬è™«ä¿¡æ¯å—ï¼Ÿ"

### `webcrawl_search`

æœç´¢é¡¹ç›®èŒƒå›´å†…çš„èµ„æºï¼ˆç½‘é¡µã€CSSã€PDF ç­‰ï¼‰å¹¶æ£€ç´¢æŒ‡å®šå­—æ®µã€‚

**å¯é€‰å‚æ•°ï¼š**

- `query`ï¼ˆå­—ç¬¦ä¸²ï¼Œå¯é€‰ï¼‰ï¼šå…¨æ–‡æœç´¢æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚æ”¯æŒå…¨æ–‡å’Œå¸ƒå°”è¿ç®—ç¬¦ï¼Œè¯­æ³•åŒ¹é… SQLite FTS5 çš„å¸ƒå°”æ¨¡å¼ï¼ˆAND, OR, NOT, å¼•å·çŸ­è¯­, åç¼€é€šé…ç¬¦ï¼‰ã€‚
- `sites`ï¼ˆæ•´æ•°æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šé¡¹ç›® ID åˆ—è¡¨ï¼Œç”¨äºå°†æœç´¢ç»“æœè¿‡æ»¤åˆ°ç‰¹å®šç«™ç‚¹ã€‚
- `limit`ï¼ˆæ•´æ•°ï¼Œå¯é€‰ï¼‰ï¼šè¦è¿”å›çš„æœ€å¤§ç»“æœæ•°ã€‚é»˜è®¤ä¸º 20ï¼Œæœ€å¤§ä¸º 100ã€‚
- `offset`ï¼ˆæ•´æ•°ï¼Œå¯é€‰ï¼‰ï¼šä¸ºåˆ†é¡µè€Œè·³è¿‡çš„ç»“æœæ•°ã€‚é»˜è®¤ä¸º 0ã€‚
- `sort`ï¼ˆå­—ç¬¦ä¸²ï¼Œå¯é€‰ï¼‰ï¼šç»“æœçš„æ’åºé¡ºåºã€‚`+`å‰ç¼€è¡¨ç¤ºå‡åºï¼Œ`-`è¡¨ç¤ºé™åºã€‚
- `statuses`ï¼ˆæ•´æ•°æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šæŒ‰ HTTP çŠ¶æ€ç è¿‡æ»¤ï¼ˆä¾‹å¦‚[200]è¡¨ç¤ºæˆåŠŸå“åº”ï¼Œ[404, 500]è¡¨ç¤ºé”™è¯¯ï¼‰ã€‚
- `types`ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šè¿‡æ»¤åˆ°ç‰¹å®šèµ„æºç±»å‹ã€‚
- `thumbnails`ï¼ˆå¸ƒå°”å€¼ï¼Œå¯é€‰ï¼‰ï¼šå¯ç”¨å›¾åƒç¼©ç•¥å›¾çš„ base64 ç¼–ç æ•°æ®ã€‚é»˜è®¤ä¸º falseã€‚
- `fields`ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šé™¤äº†åŸºæœ¬å­—æ®µï¼ˆidã€URLã€statusï¼‰å¤–ï¼Œè¦åŒ…å«åœ¨å“åº”ä¸­çš„é™„åŠ å­—æ®µã€‚ç©ºåˆ—è¡¨è¡¨ç¤ºä»…åŸºæœ¬å­—æ®µã€‚å†…å®¹å­—æ®µå¯èƒ½ä¼šå¾ˆå¤§ï¼Œåº”è°¨æ…ä¸ LIMIT ä¸€èµ·ä½¿ç”¨ï¼š
- `ids`ï¼ˆæ•´æ•°æ•°ç»„ï¼Œå¯é€‰ï¼‰ï¼šé€šè¿‡ ID ç›´æ¥æŸ¥æ‰¾ç‰¹å®šèµ„æºã€‚

**å¯é€‰å­—æ®µ**

- `created`ï¼šåˆ›å»ºçš„ ISO 8601 æ—¶é—´æˆ³
- `modified`ï¼šæœ€åä¿®æ”¹çš„ ISO 8601 æ—¶é—´æˆ³
- `content`ï¼šå¦‚æœæ˜¯ text/\*ï¼Œåˆ™ä¸ºèµ„æºçš„å®é™…å†…å®¹ï¼ˆHTML/CSS/JS/çº¯æ–‡æœ¬ï¼‰
- `name`ï¼šèµ„æºåç§°æˆ–æ ‡é¢˜ä¿¡æ¯
- `size`ï¼šæ–‡ä»¶å¤§å°ä¿¡æ¯
- `time`ï¼šä¸èµ„æºç›¸å…³çš„æ—¶é—´æŒ‡æ ‡ï¼ˆæ”¯æŒå› çˆ¬è™«ç±»å‹è€Œå¼‚ï¼‰
- `headers`ï¼šä¸èµ„æºå…³è”çš„ HTTP å¤´ï¼ˆæ”¯æŒå› çˆ¬è™«ç±»å‹è€Œå¼‚ï¼‰

**æ’åºé€‰é¡¹**

- `+id`, `-id`ï¼šæŒ‰èµ„æº ID æ’åº
- `+url`, `-url`ï¼šæŒ‰èµ„æº URL æ’åº
- `+status`, `-status`ï¼šæŒ‰ HTTP çŠ¶æ€ç æ’åº
- `?`ï¼šéšæœºæ’åºï¼ˆå¯¹ç»Ÿè®¡æŠ½æ ·æœ‰ç”¨ï¼‰

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

æœç´¢ç«™ç‚¹å…³é”®è¯ï¼š"ä½ èƒ½åœ¨ example.com çˆ¬è™«ä¸­æœç´¢å…³é”®è¯å—ï¼Ÿ"

æœç´¢å’Œè¿‡æ»¤å†…å®¹æ‘˜è¦ï¼š"ä½ èƒ½åœ¨ç½‘ç»œçˆ¬è™«ä¸­æœç´¢å…³é”®è¯ï¼Œæ”¶é›†å¹¶æ€»ç»“å†…å®¹å—ï¼Ÿ"

è·å–å›¾åƒä¿¡æ¯ï¼š"ä½ èƒ½åˆ—å‡º example.com ç½‘ç»œçˆ¬è™«ä¸­çš„å›¾ç‰‡å—ï¼Ÿ"

æŸ¥æ‰¾å¸¦æœ‰å…³é”®è¯çš„ 404 é”™è¯¯ï¼ˆWARC/Katana/InterroBotï¼‰ï¼š"ä½ èƒ½åœ¨ example.com çˆ¬è™«ä¸­æœç´¢ 404 é”™è¯¯å—ï¼Ÿ"

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MPL 2.0 è®¸å¯è¯ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…å­˜å‚¨åº“ä¸­çš„ LICENSE æ–‡ä»¶ã€‚
